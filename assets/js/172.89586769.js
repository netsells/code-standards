(window.webpackJsonp=window.webpackJsonp||[]).push([[172],{373:function(e,t,i){"use strict";i.r(t);var s=i(0),a=Object(s.a)({},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[i("h1",{attrs:{id:"üõ†-architecture-layers"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#üõ†-architecture-layers","aria-hidden":"true"}},[e._v("#")]),e._v(" üõ† Architecture Layers")]),e._v(" "),i("h2",{attrs:{id:"üç∞-layer-definitions"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#üç∞-layer-definitions","aria-hidden":"true"}},[e._v("#")]),e._v(" üç∞ Layer Definitions")]),e._v(" "),i("h3",{attrs:{id:"data"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#data","aria-hidden":"true"}},[e._v("#")]),e._v(" Data")]),e._v(" "),i("ul",[i("li",[e._v("The data layer contains the concrete implementations of the repository protocols from the domain layer")]),e._v(" "),i("li",[e._v("Repository implementations may depend on other classes such as data sources or services")]),e._v(" "),i("li",[e._v("It is a good idea (not a requirement) to use a Codable model as a DTO (Data Transfer Object) which represents the structure of the data returned from external services. These can then be converted to and from your entity struct. This means that your entities are not dependent on the data structure of the objects returned from external sources.")])]),e._v(" "),i("h3",{attrs:{id:"domain"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#domain","aria-hidden":"true"}},[e._v("#")]),e._v(" Domain")]),e._v(" "),i("ul",[i("li",[e._v("The domain layer defines the core business domain. It includes:\n"),i("ul",[i("li",[e._v("Entities")]),e._v(" "),i("li",[e._v("Usecases")]),e._v(" "),i("li",[e._v("Repository Protocols")])])]),e._v(" "),i("li",[e._v("The domain layer should not depend on any third-party dependencies or any other layer.")])]),e._v(" "),i("h3",{attrs:{id:"presentation"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#presentation","aria-hidden":"true"}},[e._v("#")]),e._v(" Presentation")]),e._v(" "),i("ul",[i("li",[e._v("The presentation layer should only contain your views and your view models.")]),e._v(" "),i("li",[e._v("As much as possible, views should be free of business logic.")]),e._v(" "),i("li",[e._v("Business logic should be placed in the view model")]),e._v(" "),i("li",[e._v("View Models should conform to a protocol to enable easy mocking in tests & dependency injection")])]),e._v(" "),i("h3",{attrs:{id:"service"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#service","aria-hidden":"true"}},[e._v("#")]),e._v(" Service")]),e._v(" "),i("ul",[i("li",[e._v("The service layer contains feature agnostic services which can be used in repositories and data sources")]),e._v(" "),i("li",[e._v("Service class implementations should conform to a protocol to enable easy mocking, service switching and dependency injection.")])]),e._v(" "),i("h2",{attrs:{id:"üìí-directory-structure"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#üìí-directory-structure","aria-hidden":"true"}},[e._v("#")]),e._v(" üìí Directory Structure")]),e._v(" "),i("ul",[i("li",[e._v("The top-level directory structure is split into a core folder and a features folder.")]),e._v(" "),i("li",[e._v("The core folder should contain reusable, feature agnostic classes. It is organised into the four architecture layers we use.")]),e._v(" "),i("li",[e._v("The features folder should contain one folder for each feature. Think of this as a module without actually splitting the feature out. Everything to do with just that feature should be placed in here.")])]),e._v(" "),i("p",[e._v("This is an example of the directory structure we follow:")]),e._v(" "),i("ul",[i("li",[e._v("Core\n"),i("ul",[i("li",[e._v("Entities\n"),i("ul",[i("li",[e._v("User.swift")])])]),e._v(" "),i("li",[e._v("Services\n"),i("ul",[i("li",[e._v("UserLocationService.swift")])])]),e._v(" "),i("li",[e._v("Usecases\n"),i("ul",[i("li",[e._v("FetchCurrentUser.swift")])])])])]),e._v(" "),i("li",[e._v("Features\n"),i("ul",[i("li",[e._v("Feature 1\n"),i("ul",[i("li",[e._v("Data\n"),i("ul",[i("li",[e._v("Data Sources\n"),i("ul",[i("li",[e._v("BookingDataSource.swift")]),e._v(" "),i("li",[e._v("DefaultBookingDataSource.swift")])])]),e._v(" "),i("li",[e._v("Repositories\n"),i("ul",[i("li",[e._v("DefaultBookingRepository.swift")])])])])]),e._v(" "),i("li",[e._v("Domain\n"),i("ul",[i("li",[e._v("Entities\n"),i("ul",[i("li",[e._v("Booking.swift")])])]),e._v(" "),i("li",[e._v("Use Cases\n"),i("ul",[i("li",[e._v("FetchActiveBookings.swift")]),e._v(" "),i("li",[e._v("FetchUpcomingBookings.swift")])])]),e._v(" "),i("li",[e._v("Repositories\n"),i("ul",[i("li",[e._v("BookingRepository.swift")])])])])]),e._v(" "),i("li",[e._v("Presentation\n"),i("ul",[i("li",[e._v("Pages\n"),i("ul",[i("li",[e._v("My Bookings Page\n"),i("ul",[i("li",[e._v("MyBookingsPage.swift")]),e._v(" "),i("li",[e._v("MyBookingsPageViewModel.swift")])])]),e._v(" "),i("li",[e._v("View Booking Page\n"),i("ul",[i("li",[e._v("ViewBookingPage.swift")]),e._v(" "),i("li",[e._v("ViewBookingPageViewModel.swift")])])])])])])])])])])])]),e._v(" "),i("h2",{attrs:{id:"üíØ-architecture-best-practices"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#üíØ-architecture-best-practices","aria-hidden":"true"}},[e._v("#")]),e._v(" üíØ Architecture Best Practices")]),e._v(" "),i("ul",[i("li",[e._v("A view‚Äôs state ("),i("code",[e._v("@State")]),e._v(") should only be used when absolutely necessary (e.g when building a form). Most of the time, it is far better to use the view model to hold and control all state.")]),e._v(" "),i("li",[e._v("As much as possible, classes should depend on a protocol, not implementations.")])])])},[],!1,null,null,null);t.default=a.exports}}]);
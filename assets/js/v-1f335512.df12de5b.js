"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5431],{3486:(n,s,a)=>{a.r(s),a.d(s,{default:()=>A});var e=a(6252);const t=(0,e._)("h1",{id:"continuous-integration",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#continuous-integration","aria-hidden":"true"},"#"),(0,e.Uk)(" Continuous Integration")],-1),p=(0,e.Uk)("We use "),u={href:"https://github.com/features/actions",target:"_blank",rel:"noopener noreferrer"},l=(0,e.Uk)("GitHub Actions"),r=(0,e.Uk)(" to run continuous integration workflows on our Flutter repositories."),o=(0,e._)("p",null,"We have a standard workflow which runs each time you push code or create a pull request. The workflow is designed to:",-1),c=(0,e.Uk)("Check code style and formatting (using "),i={href:"https://dart.dev/tools/dart-format",target:"_blank",rel:"noopener noreferrer"},k=(0,e.Uk)("dartfmt"),b=(0,e.Uk)(")"),m=(0,e._)("li",null,"Run static analysis",-1),f=(0,e.Uk)("Run a "),d={href:"https://pub.dev/packages/dart_code_metrics",target:"_blank",rel:"noopener noreferrer"},h=(0,e.Uk)("Dart Code Metrics"),g=(0,e.Uk)(" report"),y=(0,e.Uk)("Check imports are sorted correctly using "),_={href:"https://github.com/packages/import_sorter",target:"_blank",rel:"noopener noreferrer"},v=(0,e.Uk)("Import Sorter"),U=(0,e._)("li",null,"Run automated tests",-1),w=(0,e.Uk)("Send a test coverage report to "),C={href:"https://coveralls.io/",target:"_blank",rel:"noopener noreferrer"},T=(0,e.Uk)("Coveralls"),H=(0,e.Uk)("Our "),I={href:"https://github.com/netsells/flutter-templates",target:"_blank",rel:"noopener noreferrer"},R=(0,e.Uk)("Flutter Templates"),W=(0,e.Uk)(" are set up with this workflow out of the box, but below is the configuration for reference."),q=(0,e.uE)('<div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">name</span><span class="token punctuation">:</span> Test\n\n<span class="token key atrule">on</span><span class="token punctuation">:</span>\n  <span class="token punctuation">-</span> pull_request\n  <span class="token punctuation">-</span> push\n\n<span class="token key atrule">jobs</span><span class="token punctuation">:</span>\n  <span class="token key atrule">test</span><span class="token punctuation">:</span>\n    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>self<span class="token punctuation">-</span>hosted<span class="token punctuation">,</span> ubuntu<span class="token punctuation">]</span>\n\n    <span class="token key atrule">steps</span><span class="token punctuation">:</span>\n      <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2\n\n      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Setup Path\n        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">\n          echo &quot;/usr/lib/dart/bin&quot; &gt;&gt; $GITHUB_PATH\n          echo &quot;$HOME/.pub-cache/bin&quot; &gt;&gt; $GITHUB_PATH</span>\n\n      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Install Flutter\n        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">\n          fvm install</span>\n\n      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Install project dependencies\n        <span class="token key atrule">run</span><span class="token punctuation">:</span> fvm flutter pub get\n\n      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Run code generation\n        <span class="token key atrule">run</span><span class="token punctuation">:</span> fvm flutter pub run build_runner build <span class="token punctuation">-</span><span class="token punctuation">-</span>delete<span class="token punctuation">-</span>conflicting<span class="token punctuation">-</span>outputs\n\n      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Check formatting\n        <span class="token key atrule">run</span><span class="token punctuation">:</span> fvm flutter format <span class="token punctuation">-</span><span class="token punctuation">-</span>set<span class="token punctuation">-</span>exit<span class="token punctuation">-</span>if<span class="token punctuation">-</span>changed .\n\n      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Run static analysis\n        <span class="token key atrule">run</span><span class="token punctuation">:</span> fvm flutter analyze .\n\n      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Run code metrics\n        <span class="token key atrule">run</span><span class="token punctuation">:</span> fvm flutter pub run dart_code_metrics<span class="token punctuation">:</span>metrics <span class="token punctuation">-</span><span class="token punctuation">-</span>reporter=github lib\n\n      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Check imports\n        <span class="token key atrule">run</span><span class="token punctuation">:</span> fvm flutter pub run import_sorter<span class="token punctuation">:</span>main <span class="token punctuation">-</span><span class="token punctuation">-</span>exit<span class="token punctuation">-</span>if<span class="token punctuation">-</span>changed\n\n      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Run tests\n        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">\n          fvm flutter test --no-pub --coverage --test-randomize-ordering-seed random\n          fvm flutter pub run remove_from_coverage -f coverage/lcov.info -r &#39;\\..*\\.dart&#39;</span>\n\n      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Coveralls\n        <span class="token key atrule">uses</span><span class="token punctuation">:</span> coverallsapp/github<span class="token punctuation">-</span>action@master\n        <span class="token key atrule">with</span><span class="token punctuation">:</span>\n          <span class="token key atrule">github-token</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.GITHUB_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div>',1),x={},A=(0,a(3744).Z)(x,[["render",function(n,s){const a=(0,e.up)("OutboundLink");return(0,e.wg)(),(0,e.iD)(e.HY,null,[t,(0,e._)("p",null,[p,(0,e._)("a",u,[l,(0,e.Wm)(a)]),r]),o,(0,e._)("ul",null,[(0,e._)("li",null,[c,(0,e._)("a",i,[k,(0,e.Wm)(a)]),b]),m,(0,e._)("li",null,[f,(0,e._)("a",d,[h,(0,e.Wm)(a)]),g]),(0,e._)("li",null,[y,(0,e._)("a",_,[v,(0,e.Wm)(a)])]),U,(0,e._)("li",null,[w,(0,e._)("a",C,[T,(0,e.Wm)(a)])])]),(0,e._)("p",null,[H,(0,e._)("a",I,[R,(0,e.Wm)(a)]),W]),q],64)}]])},3744:(n,s)=>{s.Z=(n,s)=>{for(const[a,e]of s)n[a]=e;return n}},2368:(n,s,a)=>{a.r(s),a.d(s,{data:()=>e});const e={key:"v-1f335512",path:"/flutter/continuous-integration.html",title:"Continuous Integration",lang:"en-US",frontmatter:{},excerpt:"",headers:[],filePathRelative:"flutter/continuous-integration.md",git:{updatedTime:1647948013e3,contributors:[{name:"Becca A",email:"rebecca.anderton@netsells.co.uk",commits:1}]}}}}]);